{
  "version": 3,
  "sources": ["requestvalidator.ts"],
  "sourcesContent": ["import { IResource, Resource } from '../../core';\nimport { Construct } from 'constructs';\nimport { CfnRequestValidator, CfnRequestValidatorProps } from './apigateway.generated';\nimport { IRestApi, RestApi } from './restapi';\n\nexport interface IRequestValidator extends IResource {\n                                                                                 \n  readonly requestValidatorId: string;\n}\n\nexport interface RequestValidatorOptions {\n                                                                            \n  readonly requestValidatorName?: string;\n\n                                                                                                                                                                 \n  readonly validateRequestBody?: boolean;\n\n                                                                                           \n  readonly validateRequestParameters?: boolean;\n}\n\nexport interface RequestValidatorProps extends RequestValidatorOptions {\n                                                                                                                                                                                                                                                                                                                                                                                                       \n  readonly restApi: IRestApi;\n}\n\nexport class RequestValidator extends Resource implements IRequestValidator {\n  public static fromRequestValidatorId(scope: Construct, id: string, requestValidatorId: string): IRequestValidator {\n    class Import extends Resource implements IRequestValidator {\n      public readonly requestValidatorId = requestValidatorId;\n    }\n\n    return new Import(scope, id);\n  }\n\n                                                                                 \n  public readonly requestValidatorId: string;\n\n  constructor(scope: Construct, id: string, props: RequestValidatorProps) {\n    super(scope, id, {\n      physicalName: props.requestValidatorName,\n    });\n\n    const validatorProps: CfnRequestValidatorProps = {\n      name: this.physicalName,\n      restApiId: props.restApi.restApiId,\n      validateRequestBody: props.validateRequestBody,\n      validateRequestParameters: props.validateRequestParameters,\n    };\n\n    const resource = new CfnRequestValidator(this, 'Resource', validatorProps);\n\n    this.requestValidatorId = resource.ref;\n\n    const deployment = (props.restApi instanceof RestApi) ? props.restApi.latestDeployment : undefined;\n    if (deployment) {\n      deployment.node.addDependency(resource);\n      deployment.addToLogicalId({ validator: validatorProps });\n    }\n  }\n}"],
  "mappings": "uNAAA,OAAA,QAAA,cAEA,uBAAA,QAAA,0BACA,UAAA,QAAA,aAuBA,8BAAsC,QAAA,QAAQ,CAY5C,YAAY,MAAkB,GAAY,MAA4B,CACpE,MAAM,MAAO,GAAI,CACf,aAAc,MAAM,uGAGtB,KAAM,gBAA2C,CAC/C,KAAM,KAAK,aACX,UAAW,MAAM,QAAQ,UACzB,oBAAqB,MAAM,oBAC3B,0BAA2B,MAAM,2BAG7B,SAAW,GAAI,wBAAA,oBAAoB,KAAM,WAAY,gBAE3D,KAAK,mBAAqB,SAAS,IAEnC,KAAM,YAAc,MAAM,kBAAmB,WAAA,QAAW,MAAM,QAAQ,iBAAmB,OACzF,AAAI,YACF,YAAW,KAAK,cAAc,UAC9B,WAAW,eAAe,CAAE,UAAW,wBA9B7B,wBAAuB,MAAkB,GAAY,mBAA0B,CAC3F,oBAAqB,QAAA,QAAQ,CAA7B,aAAA,qBACkB,KAAA,mBAAqB,oBAGvC,MAAO,IAAI,QAAO,MAAO,KAN7B,QAAA,iBAAA",
  "names": []
}
