{
  "version": 3,
  "sources": ["scheduled-action.ts"],
  "sourcesContent": ["import { Resource } from '../../core';\nimport { Construct } from 'constructs';\nimport { IAutoScalingGroup } from './auto-scaling-group';\nimport { CfnScheduledAction } from './autoscaling.generated';\nimport { Schedule } from './schedule';\n\n                                                    \nexport interface BasicScheduledActionProps {\n                                                                                                                                                                                                                                                                                                                                                                                                              \n  readonly timeZone?: string;\n                                                                                                                                                                                 \n  readonly schedule: Schedule;\n\n                                                                                                                  \n  readonly startTime?: Date\n\n                                                                                                 \n  readonly endTime?: Date;\n\n                                                                                                                                                                                                                                                                  \n  readonly minCapacity?: number;\n\n                                                                                                                                                                                                                                                                  \n  readonly maxCapacity?: number;\n\n                                                                                                                                                                                                                                                                  \n  readonly desiredCapacity?: number;\n}\n\n                                                                   \nexport interface ScheduledActionProps extends BasicScheduledActionProps {\n                                                                       \n  readonly autoScalingGroup: IAutoScalingGroup;\n}\n\n                                            \nexport class ScheduledAction extends Resource {\n  constructor(scope: Construct, id: string, props: ScheduledActionProps) {\n    super(scope, id);\n\n    if (props.minCapacity === undefined && props.maxCapacity === undefined && props.desiredCapacity === undefined) {\n      throw new Error('At least one of minCapacity, maxCapacity, or desiredCapacity is required');\n    }\n\n    new CfnScheduledAction(this, 'Resource', {\n      autoScalingGroupName: props.autoScalingGroup.autoScalingGroupName,\n      startTime: formatISO(props.startTime),\n      endTime: formatISO(props.endTime),\n      minSize: props.minCapacity,\n      maxSize: props.maxCapacity,\n      desiredCapacity: props.desiredCapacity,\n      recurrence: props.schedule.expressionString,\n      timeZone: props.timeZone,\n    });\n  }\n}\n\nfunction formatISO(date?: Date) {\n  if (!date) { return undefined; }\n\n  return date.getUTCFullYear() +\n    '-' + pad(date.getUTCMonth() + 1) +\n    '-' + pad(date.getUTCDate()) +\n    'T' + pad(date.getUTCHours()) +\n    ':' + pad(date.getUTCMinutes()) +\n    ':' + pad(date.getUTCSeconds()) +\n    'Z';\n\n  function pad(num: number) {\n    if (num < 10) {\n      return '0' + num;\n    }\n    return num;\n  }\n}"],
  "mappings": "sNAAA,OAAA,QAAA,cAGA,wBAAA,QAAA,2BAiCA,6BAAqC,QAAA,QAAQ,CAC3C,YAAY,MAAkB,GAAY,MAA2B,CACnE,MAAM,MAAO,IAEb,mFAAI,MAAM,cAAgB,QAAa,MAAM,cAAgB,QAAa,MAAM,kBAAoB,OAClG,KAAM,IAAI,OAAM,4EAGlB,GAAI,yBAAA,mBAAmB,KAAM,WAAY,CACvC,qBAAsB,MAAM,iBAAiB,qBAC7C,UAAW,UAAU,MAAM,WAC3B,QAAS,UAAU,MAAM,SACzB,QAAS,MAAM,YACf,QAAS,MAAM,YACf,gBAAiB,MAAM,gBACvB,WAAY,MAAM,SAAS,iBAC3B,SAAU,MAAM,YAhBtB,QAAA,gBAAA,+HAqBA,mBAAmB,KAAW,CAC5B,GAAI,CAAC,KAAQ,OAEb,MAAO,MAAK,iBACV,IAAM,IAAI,KAAK,cAAgB,GAC/B,IAAM,IAAI,KAAK,cACf,IAAM,IAAI,KAAK,eACf,IAAM,IAAI,KAAK,iBACf,IAAM,IAAI,KAAK,iBACf,IAEF,aAAa,IAAW,CACtB,MAAI,KAAM,GACD,IAAM,IAER",
  "names": []
}
