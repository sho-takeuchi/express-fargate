{
  "version": 3,
  "sources": ["key-group.ts"],
  "sourcesContent": ["import { IResource, Names, Resource } from '../../core';\nimport { Construct } from 'constructs';\nimport { CfnKeyGroup } from './cloudfront.generated';\nimport { IPublicKey } from './public-key';\n\n                                 \nexport interface IKeyGroup extends IResource {\n                                                         \n  readonly keyGroupId: string;\n}\n\n                                               \nexport interface KeyGroupProps {\n                                                                                          \n  readonly keyGroupName?: string;\n\n                                                                                \n  readonly comment?: string;\n\n                                                               \n  readonly items: IPublicKey[];\n}\n\n                                                                              \nexport class KeyGroup extends Resource implements IKeyGroup {\n\n                                         \n  public static fromKeyGroupId(scope: Construct, id: string, keyGroupId: string): IKeyGroup {\n    return new class extends Resource implements IKeyGroup {\n      public readonly keyGroupId = keyGroupId;\n    }(scope, id);\n  }\n  public readonly keyGroupId: string;\n\n  constructor(scope: Construct, id: string, props: KeyGroupProps) {\n    super(scope, id);\n\n    const resource = new CfnKeyGroup(this, 'Resource', {\n      keyGroupConfig: {\n        name: props.keyGroupName ?? this.generateName(),\n        comment: props.comment,\n        items: props.items.map(key => key.publicKeyId),\n      },\n    });\n\n    this.keyGroupId = resource.ref;\n  }\n\n  private generateName(): string {\n    const name = Names.uniqueId(this);\n    if (name.length > 80) {\n      return name.substring(0, 40) + name.substring(name.length - 40);\n    }\n    return name;\n  }\n}\n"],
  "mappings": "+MAAA,OAAA,QAAA,cAEA,uBAAA,QAAA,0BAsBA,sBAA8B,QAAA,QAAQ,CAUpC,YAAY,MAAkB,GAAY,MAAoB,QAC5D,MAAM,MAAO,4EAEb,KAAM,UAAW,GAAI,wBAAA,YAAY,KAAM,WAAY,CACjD,eAAgB,CACd,KAAI,IAAE,MAAM,gBAAY,MAAA,KAAA,OAAA,GAAI,KAAK,eACjC,QAAS,MAAM,QACf,MAAO,MAAM,MAAM,IAAI,KAAO,IAAI,gBAItC,KAAK,WAAa,SAAS,UAlBf,gBAAe,MAAkB,GAAY,WAAkB,CAC3E,MAAO,IAAI,cAAc,QAAA,QAAQ,CAAtB,aAAA,qBACO,KAAA,WAAa,aAC7B,MAAO,IAkBH,cAAY,CAClB,KAAM,MAAO,OAAA,MAAM,SAAS,MAC5B,MAAI,MAAK,OAAS,GACT,KAAK,UAAU,EAAG,IAAM,KAAK,UAAU,KAAK,OAAS,IAEvD,MA7BX,QAAA,SAAA",
  "names": []
}
