{
  "version": 3,
  "sources": ["apple.ts"],
  "sourcesContent": ["import { Construct } from 'constructs';\nimport { CfnUserPoolIdentityProvider } from '../cognito.generated';\nimport { UserPoolIdentityProviderProps } from './base';\nimport { UserPoolIdentityProviderBase } from './private/user-pool-idp-base';\n\n                                                                 \nexport interface UserPoolIdentityProviderAppleProps extends UserPoolIdentityProviderProps {\n                                                                                                                                                              \n  readonly clientId: string;\n                                                                      \n  readonly teamId: string;\n                                                                                                                                               \n  readonly keyId: string;\n                                                                                  \n  readonly privateKey: string;\n                                                                                                                                                                                                                          \n  readonly scopes?: string[];\n}\n\n                                                                                                                          \nexport class UserPoolIdentityProviderApple extends UserPoolIdentityProviderBase {\n  public readonly providerName: string;\n\n  constructor(scope: Construct, id: string, props: UserPoolIdentityProviderAppleProps) {\n    super(scope, id, props);\n\n    const scopes = props.scopes ?? ['name'];\n\n    const resource = new CfnUserPoolIdentityProvider(this, 'Resource', {\n      userPoolId: props.userPool.userPoolId,\n      providerName: 'SignInWithApple', // must be 'SignInWithApple' when the type is 'SignInWithApple'\n      providerType: 'SignInWithApple',\n      providerDetails: {\n        client_id: props.clientId,\n        team_id: props.teamId,\n        key_id: props.keyId,\n        private_key: props.privateKey,\n        authorize_scopes: scopes.join(' '),\n      },\n      attributeMapping: super.configureAttributeMapping(),\n    });\n\n    this.providerName = super.getResourceNameAttribute(resource.ref);\n  }\n}"],
  "mappings": "uOACA,oBAAA,QAAA,wBAEA,qBAAA,QAAA,gCAiBA,2CAAmD,sBAAA,4BAA4B,CAG7E,YAAY,MAAkB,GAAY,MAAyC,QACjF,MAAM,MAAO,GAAI,iGAEjB,KAAM,QAAM,IAAG,MAAM,UAAM,MAAA,KAAA,OAAA,GAAI,CAAC,QAE1B,SAAW,GAAI,qBAAA,4BAA4B,KAAM,WAAY,CACjE,WAAY,MAAM,SAAS,WAC3B,aAAc,kBACd,aAAc,kBACd,gBAAiB,CACf,UAAW,MAAM,SACjB,QAAS,MAAM,OACf,OAAQ,MAAM,MACd,YAAa,MAAM,WACnB,iBAAkB,OAAO,KAAK,MAEhC,iBAAkB,MAAM,8BAG1B,KAAK,aAAe,MAAM,yBAAyB,SAAS,MAtBhE,QAAA,8BAAA",
  "names": []
}
