{
  "version": 3,
  "sources": ["ecr.ts"],
  "sourcesContent": ["import * as ecr from '../../../aws-ecr';\nimport { Construct } from 'constructs';\nimport { ContainerDefinition } from '../container-definition';\nimport { ContainerImage, ContainerImageConfig } from '../container-image';\n\n                                                  \nexport class EcrImage extends ContainerImage {\n                                                                                                                                                                                                                                                                                                                                                                                                     \n  public readonly imageName: string;\n\n                                                                 \n  constructor(private readonly repository: ecr.IRepository, private readonly tagOrDigest: string) {\n    super();\n\n    if (tagOrDigest?.startsWith('sha256:')) {\n      this.imageName = this.repository.repositoryUriForDigest(this.tagOrDigest);\n    } else {\n      this.imageName = this.repository.repositoryUriForTag(this.tagOrDigest);\n    }\n  }\n\n  public bind(_scope: Construct, containerDefinition: ContainerDefinition): ContainerImageConfig {\n    this.repository.grantPull(containerDefinition.taskDefinition.obtainExecutionRole());\n\n    return {\n      imageName: this.imageName,\n    };\n  }\n}\n"],
  "mappings": "kNAGA,kBAAA,QAAA,sBAGA,sBAA8B,mBAAA,cAAc,CAK1C,YAA6B,WAA8C,YAAmB,CAC5F,QAD2B,KAAA,WAAA,WAA8C,KAAA,YAAA,gFAGzE,AAAI,cAAW,KAAA,OAAX,YAAa,WAAW,YAC1B,KAAK,UAAY,KAAK,WAAW,uBAAuB,KAAK,aAE7D,KAAK,UAAY,KAAK,WAAW,oBAAoB,KAAK,aAIvD,KAAK,OAAmB,oBAAwC,6FACrE,KAAK,WAAW,UAAU,oBAAoB,eAAe,uBAEtD,CACL,UAAW,KAAK,YAnBtB,QAAA,SAAA",
  "names": []
}
