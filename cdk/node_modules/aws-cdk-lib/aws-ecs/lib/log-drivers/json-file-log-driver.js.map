{
  "version": 3,
  "sources": ["json-file-log-driver.ts"],
  "sourcesContent": ["import { Construct } from 'constructs';\nimport { ContainerDefinition } from '../container-definition';\nimport { BaseLogDriverProps } from './base-log-driver';\nimport { LogDriver, LogDriverConfig } from './log-driver';\nimport { joinWithCommas, stringifyOptions } from './utils';\n\n                                                                                                                                                 \nexport interface JsonFileLogDriverProps extends BaseLogDriverProps {\n                                                                                                                                                                                            \n  readonly maxSize?: string;\n\n                                                                                                                                                                                                                                          \n  readonly maxFile?: number;\n\n                                                                                 \n  readonly compress?: boolean;\n}\n\n                                                                     \nexport class JsonFileLogDriver extends LogDriver {\n                                                                                                                                                 \n  constructor(private readonly props: JsonFileLogDriverProps = {}) {\n    super();\n\n    // Validation\n    if (props.maxFile && props.maxFile < 0) {\n      throw new Error('`maxFile` must be a positive integer.');\n    }\n  }\n\n                                                                        \n  public bind(_scope: Construct, _containerDefinition: ContainerDefinition): LogDriverConfig {\n    return {\n      logDriver: 'json-file',\n      options: stringifyOptions({\n        'max-size': this.props.maxSize,\n        'max-file': this.props.maxFile,\n        'compress': this.props.compress,\n        'labels': joinWithCommas(this.props.labels),\n        'env': joinWithCommas(this.props.env),\n        'env-regex': this.props.envRegex,\n      }),\n    };\n  }\n}\n"],
  "mappings": "2NAGA,aAAA,QAAA,gBACA,QAAA,QAAA,WAeA,+BAAuC,cAAA,SAAS,CAE9C,YAA6B,MAAgC,GAAE,CAC7D,QAGA,GAJ2B,KAAA,MAAA,gFAIvB,MAAM,SAAW,MAAM,QAAU,EACnC,KAAM,IAAI,OAAM,yCAKb,KAAK,OAAmB,qBAAyC,8FAC/D,CACL,UAAW,YACX,QAAS,QAAA,iBAAiB,CACxB,WAAY,KAAK,MAAM,QACvB,WAAY,KAAK,MAAM,QACvB,SAAY,KAAK,MAAM,SACvB,OAAU,QAAA,eAAe,KAAK,MAAM,QACpC,IAAO,QAAA,eAAe,KAAK,MAAM,KACjC,YAAa,KAAK,MAAM,aArBhC,QAAA,kBAAA",
  "names": []
}
