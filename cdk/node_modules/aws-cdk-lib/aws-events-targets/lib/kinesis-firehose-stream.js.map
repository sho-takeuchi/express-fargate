{
  "version": 3,
  "sources": ["kinesis-firehose-stream.ts"],
  "sourcesContent": ["import * as events from '../../aws-events';\nimport * as iam from '../../aws-iam';\nimport * as firehose from '../../aws-kinesisfirehose';\nimport { singletonEventRole } from './util';\n\n                                                     \nexport interface KinesisFirehoseStreamProps {\n                                                                                                                                                                       \n  readonly message?: events.RuleTargetInput;\n}\n\n\n                                                     \nexport class KinesisFirehoseStream implements events.IRuleTarget {\n\n  constructor(private readonly stream: firehose.CfnDeliveryStream, private readonly props: KinesisFirehoseStreamProps = {}) {\n  }\n\n                                                                                                                                  \n  public bind(_rule: events.IRule, _id?: string): events.RuleTargetConfig {\n    const policyStatements = [new iam.PolicyStatement({\n      actions: ['firehose:PutRecord', 'firehose:PutRecordBatch'],\n      resources: [this.stream.attrArn],\n    })];\n\n    return {\n      arn: this.stream.attrArn,\n      role: singletonEventRole(this.stream, policyStatements),\n      input: this.props.message,\n      targetResource: this.stream,\n    };\n  }\n}"],
  "mappings": "4NACA,IAAA,QAAA,iBAEA,OAAA,QAAA,UAUA,2BAAkC,CAEhC,YAA6B,OAAqD,MAAoC,GAAE,CAA3F,KAAA,OAAA,OAAqD,KAAA,MAAA,iLAI3E,KAAK,MAAqB,IAAY,6DAC3C,KAAM,kBAAmB,CAAC,GAAI,KAAI,gBAAgB,CAChD,QAAS,CAAC,qBAAsB,2BAChC,UAAW,CAAC,KAAK,OAAO,YAG1B,MAAO,CACL,IAAK,KAAK,OAAO,QACjB,KAAM,OAAA,mBAAmB,KAAK,OAAQ,kBACtC,MAAO,KAAK,MAAM,QAClB,eAAgB,KAAK,SAhB3B,QAAA,sBAAA",
  "names": []
}
