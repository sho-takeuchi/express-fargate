{
  "version": 3,
  "sources": ["kinesis-stream.ts"],
  "sourcesContent": ["import * as events from '../../aws-events';\nimport * as iam from '../../aws-iam';\nimport * as kinesis from '../../aws-kinesis';\nimport { singletonEventRole } from './util';\n\n                                                    \nexport interface KinesisStreamProps {\n                                                                                                                     \n  readonly partitionKeyPath?: string;\n\n                                                                                                                                                                     \n  readonly message?: events.RuleTargetInput;\n\n}\n\n                                                                                                                                                                                                                                                                                                                            \nexport class KinesisStream implements events.IRuleTarget {\n\n  constructor(private readonly stream: kinesis.IStream, private readonly props: KinesisStreamProps = {}) {\n  }\n\n                                                                                                                               \n  public bind(_rule: events.IRule, _id?: string): events.RuleTargetConfig {\n    const policyStatements = [new iam.PolicyStatement({\n      actions: ['kinesis:PutRecord', 'kinesis:PutRecords'],\n      resources: [this.stream.streamArn],\n    })];\n\n    return {\n      arn: this.stream.streamArn,\n      role: singletonEventRole(this.stream, policyStatements),\n      input: this.props.message,\n      targetResource: this.stream,\n      kinesisParameters: this.props.partitionKeyPath ? { partitionKeyPath: this.props.partitionKeyPath } : undefined,\n    };\n  }\n\n}\n"],
  "mappings": "oNACA,IAAA,QAAA,iBAEA,OAAA,QAAA,UAaA,mBAA0B,CAExB,YAA6B,OAA0C,MAA4B,GAAE,CAAxE,KAAA,OAAA,OAA0C,KAAA,MAAA,uJAIhE,KAAK,MAAqB,IAAY,6DAC3C,KAAM,kBAAmB,CAAC,GAAI,KAAI,gBAAgB,CAChD,QAAS,CAAC,oBAAqB,sBAC/B,UAAW,CAAC,KAAK,OAAO,cAG1B,MAAO,CACL,IAAK,KAAK,OAAO,UACjB,KAAM,OAAA,mBAAmB,KAAK,OAAQ,kBACtC,MAAO,KAAK,MAAM,QAClB,eAAgB,KAAK,OACrB,kBAAmB,KAAK,MAAM,iBAAmB,CAAE,iBAAkB,KAAK,MAAM,kBAAqB,SAjB3G,QAAA,cAAA",
  "names": []
}
