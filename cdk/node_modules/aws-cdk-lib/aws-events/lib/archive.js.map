{
  "version": 3,
  "sources": ["archive.ts"],
  "sourcesContent": ["import { Duration, Resource } from '../../core';\nimport { Construct } from 'constructs';\nimport { IEventBus } from './event-bus';\nimport { EventPattern } from './event-pattern';\nimport { CfnArchive } from './events.generated';\nimport { renderEventPattern } from './util';\n\n                                            \nexport interface BaseArchiveProps {\n                                                                                      \n  readonly archiveName?: string;\n                                                                         \n  readonly description?: string;\n                                                                              \n  readonly eventPattern: EventPattern;\n                                                                                                                                                     \n  readonly retention?: Duration;\n}\n\n\n                                       \nexport interface ArchiveProps extends BaseArchiveProps {\n                                                              \n  readonly sourceEventBus: IEventBus;\n}\n\n                                                                             \nexport class Archive extends Resource {\n                                                  \n  public readonly archiveName: string;\n\n                                                                \n  public readonly archiveArn: string;\n\n  constructor(scope: Construct, id: string, props: ArchiveProps) {\n    super(scope, id, { physicalName: props.archiveName });\n\n    let archive = new CfnArchive(this, 'Archive', {\n      sourceArn: props.sourceEventBus.eventBusArn,\n      description: props.description,\n      eventPattern: renderEventPattern(props.eventPattern),\n      retentionDays: props.retention?.toDays({ integral: true }) || 0,\n      archiveName: this.physicalName,\n    });\n\n    this.archiveArn = archive.attrArn;\n    this.archiveName = archive.attrArchiveName;\n  }\n}\n"],
  "mappings": "8MAAA,OAAA,QAAA,cAIA,mBAAA,QAAA,sBACA,OAAA,QAAA,UAsBA,qBAA6B,QAAA,QAAQ,CAOnC,YAAY,MAAkB,GAAY,MAAmB,QAC3D,MAAM,MAAO,GAAI,CAAE,aAAc,MAAM,iFAEvC,GAAI,SAAU,GAAI,oBAAA,WAAW,KAAM,UAAW,CAC5C,UAAW,MAAM,eAAe,YAChC,YAAa,MAAM,YACnB,aAAc,OAAA,mBAAmB,MAAM,cACvC,cAAe,KAAA,MAAM,aAAS,MAAA,KAAA,OAAA,OAAA,GAAE,OAAO,CAAE,SAAU,OAAW,EAC9D,YAAa,KAAK,eAGpB,KAAK,WAAa,QAAQ,QAC1B,KAAK,YAAc,QAAQ,iBAnB/B,QAAA,QAAA",
  "names": []
}
