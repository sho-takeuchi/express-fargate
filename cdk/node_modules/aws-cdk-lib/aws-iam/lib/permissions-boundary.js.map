{
  "version": 3,
  "sources": ["permissions-boundary.ts"],
  "sourcesContent": ["import { Aspects, CfnResource } from '../../core';\nimport { IConstruct } from 'constructs';\nimport { CfnRole, CfnUser } from './iam.generated';\nimport { IManagedPolicy } from './managed-policy';\n\n                                                                                                                                                                                                                                         \nexport class PermissionsBoundary {\n                                                                      \n  public static of(scope: IConstruct): PermissionsBoundary {\n    return new PermissionsBoundary(scope);\n  }\n\n  private constructor(private readonly scope: IConstruct) {\n  }\n\n                                                                                                                                                                                                                                                                                                         \n  public apply(boundaryPolicy: IManagedPolicy) {\n    Aspects.of(this.scope).add({\n      visit(node: IConstruct) {\n        if (\n          CfnResource.isCfnResource(node) &&\n            (node.cfnResourceType == CfnRole.CFN_RESOURCE_TYPE_NAME || node.cfnResourceType == CfnUser.CFN_RESOURCE_TYPE_NAME)\n        ) {\n          node.addPropertyOverride('PermissionsBoundary', boundaryPolicy.managedPolicyArn);\n        }\n      },\n    });\n  }\n\n                                                                 \n  public clear() {\n    Aspects.of(this.scope).add({\n      visit(node: IConstruct) {\n        if (\n          CfnResource.isCfnResource(node) &&\n            (node.cfnResourceType == CfnRole.CFN_RESOURCE_TYPE_NAME || node.cfnResourceType == CfnUser.CFN_RESOURCE_TYPE_NAME)\n        ) {\n          node.addPropertyDeletionOverride('PermissionsBoundary');\n        }\n      },\n    });\n  }\n}\n"],
  "mappings": "0NAAA,OAAA,QAAA,cAEA,gBAAA,QAAA,mBAIA,yBAAgC,CAM9B,YAAqC,MAAiB,CAAjB,KAAA,MAAA,YAJvB,IAAG,MAAiB,CAChC,MAAO,IAAI,qBAAoB,OAO1B,MAAM,eAA8B,4EACzC,OAAA,QAAQ,GAAG,KAAK,OAAO,IAAI,CACzB,MAAM,KAAgB,CACpB,AACE,OAAA,YAAY,cAAc,OACvB,MAAK,iBAAmB,gBAAA,QAAQ,wBAA0B,KAAK,iBAAmB,gBAAA,QAAQ,yBAE7F,KAAK,oBAAoB,sBAAuB,eAAe,qBAOhE,OAAK,CACV,OAAA,QAAQ,GAAG,KAAK,OAAO,IAAI,CACzB,MAAM,KAAgB,CACpB,AACE,OAAA,YAAY,cAAc,OACvB,MAAK,iBAAmB,gBAAA,QAAQ,wBAA0B,KAAK,iBAAmB,gBAAA,QAAQ,yBAE7F,KAAK,4BAA4B,2BA/B3C,QAAA,oBAAA",
  "names": []
}
