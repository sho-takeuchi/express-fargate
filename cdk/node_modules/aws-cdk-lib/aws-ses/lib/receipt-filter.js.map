{
  "version": 3,
  "sources": ["receipt-filter.ts"],
  "sourcesContent": ["import { Resource } from '../../core';\nimport { Construct } from 'constructs';\nimport { CfnReceiptFilter } from './ses.generated';\n\n                                             \nexport enum ReceiptFilterPolicy {\n                                               \n  ALLOW = 'Allow',\n\n                                               \n  BLOCK = 'Block'\n}\n\n                                                       \nexport interface ReceiptFilterProps {\n                                                                                                    \n  readonly receiptFilterName?: string;\n\n                                                                                \n  readonly ip?: string;\n\n                                                                    \n  readonly policy?: ReceiptFilterPolicy;\n}\n\n                                                                                                       \nexport class ReceiptFilter extends Resource {\n  constructor(scope: Construct, id: string, props: ReceiptFilterProps = {}) {\n    super(scope, id, {\n      physicalName: props.receiptFilterName,\n    });\n\n    new CfnReceiptFilter(this, 'Resource', {\n      filter: {\n        ipFilter: {\n          cidr: props.ip || '0.0.0.0/0',\n          policy: props.policy || ReceiptFilterPolicy.BLOCK,\n        },\n        name: this.physicalName,\n      },\n    });\n  }\n}\n\n                                                                 \nexport interface AllowListReceiptFilterProps {\n                                                                \n  readonly ips: string[];\n}\n\n                                        \nexport class AllowListReceiptFilter extends Construct {\n  constructor(scope: Construct, id: string, props: AllowListReceiptFilterProps) {\n    super(scope, id);\n\n    new ReceiptFilter(this, 'BlockAll');\n\n    props.ips.forEach(ip => {\n      new ReceiptFilter(this, `Allow${ip.replace(/[^\\d]/g, '')}`, {\n        ip,\n        policy: ReceiptFilterPolicy.ALLOW,\n      });\n    });\n  }\n}\n\n                                                                                                                 \nexport interface WhiteListReceiptFilterProps extends AllowListReceiptFilterProps { }\n\n                                                                                    \nexport class WhiteListReceiptFilter extends AllowListReceiptFilter {\n  constructor(scope: Construct, id: string, props: WhiteListReceiptFilterProps) {\n    super(scope, id, props);\n  }\n}\n"],
  "mappings": "oTAAA,OAAA,QAAA,cACA,aAAA,QAAA,cACA,gBAAA,QAAA,mBAGA,GAAY,qBAAZ,AAAA,UAAY,qBAAmB,CAE7B,qBAAA,MAAA,QAGA,qBAAA,MAAA,UALU,oBAAA,QAAA,qBAAA,SAAA,oBAAmB,KAqB/B,2BAAmC,QAAA,QAAQ,CACzC,YAAY,MAAkB,GAAY,MAA4B,GAAE,CACtE,MAAM,MAAO,GAAI,CACf,aAAc,MAAM,0FAGtB,GAAI,iBAAA,iBAAiB,KAAM,WAAY,CACrC,OAAQ,CACN,SAAU,CACR,KAAM,MAAM,IAAM,YAClB,OAAQ,MAAM,QAAU,oBAAoB,OAE9C,KAAM,KAAK,iBAZnB,QAAA,cAAA,iHAyBA,oCAA4C,cAAA,SAAS,CACnD,YAAY,MAAkB,GAAY,MAAkC,CAC1E,MAAM,MAAO,mFAEb,GAAI,eAAc,KAAM,YAExB,MAAM,IAAI,QAAQ,IAAK,CACrB,GAAI,eAAc,KAAM,QAAQ,GAAG,QAAQ,SAAU,MAAO,CAC1D,GACA,OAAQ,oBAAoB,WATpC,QAAA,uBAAA,4IAmBA,oCAA4C,uBAAsB,CAChE,YAAY,MAAkB,GAAY,MAAkC,CAC1E,MAAM,MAAO,GAAI,QAFrB,QAAA,uBAAA",
  "names": []
}
