{
  "version": 3,
  "sources": ["chain.ts"],
  "sourcesContent": ["import { Parallel, ParallelProps } from './states/parallel';\nimport { State } from './states/state';\nimport { IChainable, INextable } from './types';\n\n                                                                                                                                                                            \nexport class Chain implements IChainable {\n                                                     \n  public static start(state: IChainable) {\n    return new Chain(state.startState, state.endStates, state);\n  }\n\n                                                                                     \n  public static sequence(start: IChainable, next: IChainable) {\n    return new Chain(start.startState, next.endStates, next);\n  }\n\n                                                                                            \n  public static custom(startState: State, endStates: INextable[], lastAdded: IChainable) {\n    return new Chain(startState, endStates, lastAdded);\n  }\n\n                                    \n  public readonly id: string;\n\n                                              \n  public readonly startState: State;\n\n                                                         \n  public readonly endStates: INextable[];\n\n  private constructor(startState: State, endStates: INextable[], private readonly lastAdded: IChainable) {\n    this.id = lastAdded.id;\n    this.startState = startState;\n    this.endStates = endStates;\n  }\n\n                                                               \n  public next(next: IChainable): Chain {\n    if (this.endStates.length === 0) {\n      throw new Error(`Cannot add to chain: last state in chain (${this.lastAdded.id}) does not allow it`);\n    }\n\n    for (const endState of this.endStates) {\n      endState.next(next);\n    }\n\n    return new Chain(this.startState, next.endStates, next);\n  }\n\n                                                                                                                                                                                                                                                                                                                                                                                         \n  public toSingleState(id: string, props: ParallelProps = {}): Parallel {\n    return new Parallel(this.startState, id, props).branch(this);\n  }\n}"],
  "mappings": "4MAAA,WAAA,QAAA,qBAKA,WAAkB,CAyBhB,YAAoB,WAAmB,UAAyC,UAAqB,CAArB,KAAA,UAAA,UAC9E,KAAK,GAAK,UAAU,GACpB,KAAK,WAAa,WAClB,KAAK,UAAY,gBA1BL,OAAM,MAAiB,gFAC5B,GAAI,OAAM,MAAM,WAAY,MAAM,UAAW,aAIxC,UAAS,MAAmB,KAAgB,uJACjD,GAAI,OAAM,MAAM,WAAY,KAAK,UAAW,YAIvC,QAAO,WAAmB,UAAwB,UAAqB,4JAC5E,GAAI,OAAM,WAAY,UAAW,WAmBnC,KAAK,KAAgB,CAC1B,0EAAI,KAAK,UAAU,SAAW,EAC5B,KAAM,IAAI,OAAM,6CAA6C,KAAK,UAAU,yBAG9E,SAAW,YAAY,MAAK,UAC1B,SAAS,KAAK,MAGhB,MAAO,IAAI,OAAM,KAAK,WAAY,KAAK,UAAW,MAI7C,cAAc,GAAY,MAAuB,GAAE,mFACjD,GAAI,YAAA,SAAS,KAAK,WAAY,GAAI,OAAO,OAAO,OA9C3D,QAAA,MAAA",
  "names": []
}
