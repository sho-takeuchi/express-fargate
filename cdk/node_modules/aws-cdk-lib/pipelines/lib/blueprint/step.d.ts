import { Stack } from '../../../core';
import { FileSet, IFileSetProducer } from './file-set';
/**
 * A generic Step which can be added to a Pipeline.
 *
 * Steps can be used to add Sources, Build Actions and Validations
 * to your pipeline.
 *
 * This class is abstract. See specific subclasses of Step for
 * useful steps to add to your Pipeline
 *
 * @stability stable
 */
export declare abstract class Step implements IFileSetProducer {
    /** Identifier for this step */
    readonly id: string;
    /**
     * Define a sequence of steps to be executed in order.
     *
     * If you need more fine-grained step ordering, use the `addStepDependency()`
     * API. For example, if you want `secondStep` to occur after `firstStep`, call
     * `secondStep.addStepDependency(firstStep)`.
     *
     * @stability stable
     */
    static sequence(steps: Step[]): Step[];
    /**
     * The list of FileSets consumed by this Step.
     *
     * @stability stable
     */
    readonly dependencyFileSets: FileSet[];
    /**
     * Whether or not this is a Source step.
     *
     * What it means to be a Source step depends on the engine.
     *
     * @stability stable
     */
    readonly isSource: boolean;
    private _primaryOutput?;
    private _dependencies;
    /**
     * @param id Identifier for this step.
     * @stability stable
     */
    constructor(
    /** Identifier for this step */
    id: string);
    /**
     * Return the steps this step depends on, based on the FileSets it requires.
     *
     * @stability stable
     */
    get dependencies(): Step[];
    /**
     * Return a string representation of this Step.
     *
     * @stability stable
     */
    toString(): string;
    /**
     * The primary FileSet produced by this Step.
     *
     * Not all steps produce an output FileSet--if they do
     * you can substitute the `Step` object for the `FileSet` object.
     *
     * @stability stable
     */
    get primaryOutput(): FileSet | undefined;
    /**
     * Add a dependency on another step.
     *
     * @stability stable
     */
    addStepDependency(step: Step): void;
    /**
     * Add an additional FileSet to the set of file sets required by this step.
     *
     * This will lead to a dependency on the producer of that file set.
     *
     * @stability stable
     */
    protected addDependencyFileSet(fs: FileSet): void;
    /**
     * Configure the given FileSet as the primary output of this step.
     *
     * @stability stable
     */
    protected configurePrimaryOutput(fs: FileSet): void;
}
/**
 * Instructions for additional steps that are run at stack level.
 *
 * @stability stable
 */
export interface StackSteps {
    /**
     * The stack you want the steps to run in.
     *
     * @stability stable
     */
    readonly stack: Stack;
    /**
     * Steps that execute before stack is prepared.
     *
     * @default - no additional steps
     * @stability stable
     */
    readonly pre?: Step[];
    /**
     * Steps that execute after stack is prepared but before stack is deployed.
     *
     * @default - no additional steps
     * @stability stable
     */
    readonly changeSet?: Step[];
    /**
     * Steps that execute after stack is deployed.
     *
     * @default - no additional steps
     * @stability stable
     */
    readonly post?: Step[];
}
