{
  "version": 3,
  "sources": ["codebuild-step.ts"],
  "sourcesContent": ["import { Duration } from '../../../core';\nimport * as codebuild from '../../../aws-codebuild';\nimport * as ec2 from '../../../aws-ec2';\nimport * as iam from '../../../aws-iam';\nimport { ShellStep, ShellStepProps } from '../blueprint';\n\n                                                 \nexport interface CodeBuildStepProps extends ShellStepProps {\n                                                                                                      \n  readonly projectName?: string;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n  readonly partialBuildSpec?: codebuild.BuildSpec;\n\n                                                                                      \n  readonly vpc?: ec2.IVpc;\n\n                                                                                                                          \n  readonly subnetSelection?: ec2.SubnetSelection;\n\n                                                                                                                                                                                                                      \n  readonly rolePolicyStatements?: iam.PolicyStatement[];\n\n                                                                                                                                \n  readonly role?: iam.IRole;\n\n                                                                                                                                                                                                   \n  readonly buildEnvironment?: codebuild.BuildEnvironment;\n\n                                                                                                                                                                                                                                                                                         \n  readonly securityGroups?: ec2.ISecurityGroup[];\n\n                                                                                                                                                                                                                                       \n  readonly timeout?: Duration;\n}\n\n                                              \nexport class CodeBuildStep extends ShellStep {\n                                                                                                                                    \n  public readonly projectName?: string;\n\n                                                                                                                                                              \n  public readonly partialBuildSpec?: codebuild.BuildSpec;\n\n                                                                                                                                     \n  public readonly vpc?: ec2.IVpc;\n\n                                                                                                                 \n  public readonly subnetSelection?: ec2.SubnetSelection;\n\n                                                                                                                                                  \n  public readonly rolePolicyStatements?: iam.PolicyStatement[];\n\n                                                                                                                                                      \n  public readonly role?: iam.IRole;\n\n                                                                                                             \n  readonly buildEnvironment?: codebuild.BuildEnvironment;\n\n                                                                                                                                                                           \n  readonly securityGroups?: ec2.ISecurityGroup[];\n\n                                                                                                                                                                                                                                       \n  readonly timeout?: Duration;\n\n  private _project?: codebuild.IProject;\n\n  constructor(id: string, props: CodeBuildStepProps) {\n    super(id, props);\n\n    this.projectName = props.projectName;\n    this.buildEnvironment = props.buildEnvironment;\n    this.partialBuildSpec = props.partialBuildSpec;\n    this.vpc = props.vpc;\n    this.subnetSelection = props.subnetSelection;\n    this.role = props.role;\n    this.rolePolicyStatements = props.rolePolicyStatements;\n    this.securityGroups = props.securityGroups;\n    this.timeout = props.timeout;\n  }\n\n                                                                                                                                 \n  public get project(): codebuild.IProject {\n    if (!this._project) {\n      throw new Error('Call pipeline.buildPipeline() before reading this property');\n    }\n    return this._project;\n  }\n\n                                                  \n  public get grantPrincipal(): iam.IPrincipal {\n    return this.project.grantPrincipal;\n  }\n\n  /**\n   * Set the internal project value\n   *\n   * @internal\n   */\n  public _setProject(project: codebuild.IProject) {\n    this._project = project;\n  }\n}\n"],
  "mappings": "uNAIA,YAAA,QAAA,gBAiCA,2BAAmC,aAAA,SAAS,CA8B1C,YAAY,GAAY,MAAyB,CAC/C,MAAM,GAAI,+EAEV,KAAK,YAAc,MAAM,YACzB,KAAK,iBAAmB,MAAM,iBAC9B,KAAK,iBAAmB,MAAM,iBAC9B,KAAK,IAAM,MAAM,IACjB,KAAK,gBAAkB,MAAM,gBAC7B,KAAK,KAAO,MAAM,KAClB,KAAK,qBAAuB,MAAM,qBAClC,KAAK,eAAiB,MAAM,eAC5B,KAAK,QAAU,MAAM,WAIZ,UAAO,CAChB,GAAI,CAAC,KAAK,SACR,KAAM,IAAI,OAAM,8DAElB,MAAO,MAAK,YAIH,iBAAc,CACvB,MAAO,MAAK,QAAQ,eAQf,YAAY,QAA2B,CAC5C,KAAK,SAAW,SA/DpB,QAAA,cAAA",
  "names": []
}
